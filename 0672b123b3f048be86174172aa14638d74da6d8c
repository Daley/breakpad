{
  "comments": [
    {
      "key": {
        "uuid": "ccf6909e_6c63d299",
        "filename": "src/tools/mac/symupload/symupload.m",
        "patchSetId": 1
      },
      "lineNbr": 56,
      "author": {
        "id": 1002222
      },
      "writtenOn": "2020-08-06T19:29:46Z",
      "side": 1,
      "message": "Not strictly necessary, but it might be nice if the \"success\" values came before the \"failure\" values, so if a user who only cares about hard failures can do something like:\nif result \u003c FIRST_TRUE_FAILURE_CODE then PASS",
      "revId": "0672b123b3f048be86174172aa14638d74da6d8c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ba66dc98_d6eb5712",
        "filename": "src/tools/mac/symupload/symupload.m",
        "patchSetId": 1
      },
      "lineNbr": 56,
      "author": {
        "id": 1324403
      },
      "writtenOn": "2020-08-06T20:32:12Z",
      "side": 1,
      "message": "My one reservation about that is if we added another status then we\u0027d have to change \"Failure\" to a higher number, and so on each time. If it\u0027s \"1\" then it can stay put and avoid users having to change their logic to detect failure.",
      "parentUuid": "ccf6909e_6c63d299",
      "revId": "0672b123b3f048be86174172aa14638d74da6d8c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "01dc665e_1481d187",
        "filename": "src/tools/mac/symupload/symupload.m",
        "patchSetId": 1
      },
      "lineNbr": 56,
      "author": {
        "id": 1002222
      },
      "writtenOn": "2020-08-06T20:40:24Z",
      "side": 1,
      "message": "Yeah, if there\u0027s only potential for one type of \"true failure\", then checking !\u003d 1 is fine too. I was more thinking if there were multiple options for both success and failure results, in which case you could define failures as \u003e\u003d100 or something. But most likely none of that is going to happen anyhow, so as-is is fine too.",
      "parentUuid": "ba66dc98_d6eb5712",
      "revId": "0672b123b3f048be86174172aa14638d74da6d8c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5539e09b_5b0691e4",
        "filename": "src/tools/mac/symupload/symupload.m",
        "patchSetId": 1
      },
      "lineNbr": 165,
      "author": {
        "id": 1131115
      },
      "writtenOn": "2020-08-06T19:51:52Z",
      "side": 1,
      "message": "There could be a potential issue here. The behavior is different when using the V1 interface. Using the V1 endpoint, uploading the same symbol file was always succeeding. The uploaded symbol file was always overwriting the existing one.\n\nCan you please clarify in a comment what exactly happens when the file already exists? Is it overwritten? If not, then how do you overwrite a previously uploaded bad symbol file with a good one?",
      "range": {
        "startLine": 165,
        "startChar": 24,
        "endLine": 165,
        "endChar": 43
      },
      "revId": "0672b123b3f048be86174172aa14638d74da6d8c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bac78a12_e8343659",
        "filename": "src/tools/mac/symupload/symupload.m",
        "patchSetId": 1
      },
      "lineNbr": 165,
      "author": {
        "id": 1002222
      },
      "writtenOn": "2020-08-06T20:06:28Z",
      "side": 1,
      "message": "IIUC, the previous behavior would be the same as running v2 with the \"-f\" (force) option, which is mentioned in the error logging. While that does require changes to maintain backward compatibility, there are already more substantial changes required when switching to v2 (e.g. adding the API key), so I don\u0027t think that\u0027s really a problem. However, the significance of the different return codes should probably be mentioned in the Usage().",
      "parentUuid": "5539e09b_5b0691e4",
      "range": {
        "startLine": 165,
        "startChar": 24,
        "endLine": 165,
        "endChar": 43
      },
      "revId": "0672b123b3f048be86174172aa14638d74da6d8c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "77be4a27_b8b6462a",
        "filename": "src/tools/mac/symupload/symupload.m",
        "patchSetId": 1
      },
      "lineNbr": 165,
      "author": {
        "id": 1324403
      },
      "writtenOn": "2020-08-06T20:32:12Z",
      "side": 1,
      "message": "ivanpe@ mmoss@ does the usage message about exit code meanings answer those questions? I think the current usage text covers both directions-- that to overwrite files you should specify -f and that if you got a \"2\" exit code then your file already existed and you didn\u0027t specify -f.",
      "parentUuid": "bac78a12_e8343659",
      "range": {
        "startLine": 165,
        "startChar": 24,
        "endLine": 165,
        "endChar": 43
      },
      "revId": "0672b123b3f048be86174172aa14638d74da6d8c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "47084942_c2f47fa6",
        "filename": "src/tools/mac/symupload/symupload.m",
        "patchSetId": 1
      },
      "lineNbr": 165,
      "author": {
        "id": 1174099
      },
      "writtenOn": "2020-08-06T20:33:34Z",
      "side": 1,
      "message": "\u003e Can you please clarify in a comment what exactly happens when the file already exists? Is it overwritten?\n\nI don’t think this documentation belongs here. The protocol, as far as there even is one, doesn’t specify. All you’d be able to write here is an observation about an implementation, but you can’t expect that to hold for other implementations. So if you do write something here, be sure to clarify that you’re only describing how Google’s v1 symbol server behaves.\n\nOn the other hand, you could just note this exact fact, “the v1 protocol doesn’t specify what happens in this case, and it may be reported as success, which may or may mean that the new file replaced the old but also may mean that the old file was maintained,” without having to talk about any specific implementation.",
      "parentUuid": "bac78a12_e8343659",
      "range": {
        "startLine": 165,
        "startChar": 24,
        "endLine": 165,
        "endChar": 43
      },
      "revId": "0672b123b3f048be86174172aa14638d74da6d8c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ad77c1f1_ee733ea9",
        "filename": "src/tools/mac/symupload/symupload.m",
        "patchSetId": 1
      },
      "lineNbr": 165,
      "author": {
        "id": 1324403
      },
      "writtenOn": "2020-08-06T20:53:07Z",
      "side": 1,
      "message": "Fair enough I think. ivanpe@ and mark@ if I make a comment on the difference between V1 and V2 behaviour in this file, where do you think I should put it? On the line where the V1 protocol returns success/failure?",
      "parentUuid": "47084942_c2f47fa6",
      "range": {
        "startLine": 165,
        "startChar": 24,
        "endLine": 165,
        "endChar": 43
      },
      "revId": "0672b123b3f048be86174172aa14638d74da6d8c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "402eea1f_2675448d",
        "filename": "src/tools/mac/symupload/symupload.m",
        "patchSetId": 1
      },
      "lineNbr": 165,
      "author": {
        "id": 1174099
      },
      "writtenOn": "2020-08-06T21:01:48Z",
      "side": 1,
      "message": "\u003e Fair enough I think. ivanpe@ and mark@ if I make a comment on the difference between V1 and V2 behaviour in this file, where do you think I should put it? On the line where the V1 protocol returns success/failure?\n\nEither:\n - in the enum declaration, something like “not used in protocol v1”, expanding on that as you see fit, or\n - in the usage message, since that’s the most prominent and visible location",
      "parentUuid": "ad77c1f1_ee733ea9",
      "range": {
        "startLine": 165,
        "startChar": 24,
        "endLine": 165,
        "endChar": 43
      },
      "revId": "0672b123b3f048be86174172aa14638d74da6d8c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}