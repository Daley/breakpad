{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "f8854496_3592c542",
        "filename": "src/tools/mac/upload_system_symbols/upload_system_symbols.sh",
        "patchSetId": 9
      },
      "lineNbr": 41,
      "author": {
        "id": 1174099
      },
      "writtenOn": "2023-01-27T21:12:58Z",
      "side": 1,
      "message": "Send this message to stderr:\n\n```\n  echo \"usage: $0 \u003cdestiation_directory\u003e \u003e\u0026 2\n```",
      "revId": "f0a54f5705af1968b410ae5a17c43b5b4e3e79f5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ff7a8d0f_0c92d77c",
        "filename": "src/tools/mac/upload_system_symbols/upload_system_symbols.sh",
        "patchSetId": 9
      },
      "lineNbr": 41,
      "author": {
        "id": 1171114
      },
      "writtenOn": "2023-01-27T22:53:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f8854496_3592c542",
      "revId": "f0a54f5705af1968b410ae5a17c43b5b4e3e79f5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "811e5002_5611cc92",
        "filename": "src/tools/mac/upload_system_symbols/upload_system_symbols.sh",
        "patchSetId": 9
      },
      "lineNbr": 58,
      "author": {
        "id": 1174099
      },
      "writtenOn": "2023-01-27T21:10:58Z",
      "side": 1,
      "message": "Why make the invoker pass in the path to the parent of the directory that will be created? Why not make the invoker pass in the path to the directory that will get created itself?",
      "revId": "f0a54f5705af1968b410ae5a17c43b5b4e3e79f5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ebf839ad_fe74a31f",
        "filename": "src/tools/mac/upload_system_symbols/upload_system_symbols.sh",
        "patchSetId": 9
      },
      "lineNbr": 58,
      "author": {
        "id": 1171114
      },
      "writtenOn": "2023-01-27T22:53:30Z",
      "side": 1,
      "message": "Seems more ergonomic to me (\"put it here, but I don\u0027t feel like deciding what to call it\"; as a bonus the autogenerated name is good and saves you a lookup/copy/paste). Done, though.",
      "parentUuid": "811e5002_5611cc92",
      "revId": "f0a54f5705af1968b410ae5a17c43b5b4e3e79f5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "87bc3bf8_4d720e23",
        "filename": "src/tools/mac/upload_system_symbols/upload_system_symbols.sh",
        "patchSetId": 9
      },
      "lineNbr": 59,
      "author": {
        "id": 1174099
      },
      "writtenOn": "2023-01-27T21:10:58Z",
      "side": 1,
      "message": "(I still like this `mkdir` either way, because it’ll fail and stop immediately under `set -e` if the directory already exists, which means you won’t dump stuff into an existing directory.)",
      "revId": "f0a54f5705af1968b410ae5a17c43b5b4e3e79f5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "42b78112_4364c1d4",
        "filename": "src/tools/mac/upload_system_symbols/upload_system_symbols.sh",
        "patchSetId": 9
      },
      "lineNbr": 59,
      "author": {
        "id": 1171114
      },
      "writtenOn": "2023-01-27T22:53:30Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "87bc3bf8_4d720e23",
      "revId": "f0a54f5705af1968b410ae5a17c43b5b4e3e79f5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eb42103b_9f5ef0b4",
        "filename": "src/tools/mac/upload_system_symbols/upload_system_symbols.sh",
        "patchSetId": 9
      },
      "lineNbr": 60,
      "author": {
        "id": 1174099
      },
      "writtenOn": "2023-01-27T21:10:58Z",
      "side": 1,
      "message": "A single `rm` invocation will do: `rm -rf \"${working_dir}\" \"${result_dir}\"`.",
      "revId": "f0a54f5705af1968b410ae5a17c43b5b4e3e79f5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e7b6c43e_c8770ddd",
        "filename": "src/tools/mac/upload_system_symbols/upload_system_symbols.sh",
        "patchSetId": 9
      },
      "lineNbr": 60,
      "author": {
        "id": 1171114
      },
      "writtenOn": "2023-01-27T22:53:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "eb42103b_9f5ef0b4",
      "revId": "f0a54f5705af1968b410ae5a17c43b5b4e3e79f5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "26ae098f_7965f97c",
        "filename": "src/tools/mac/upload_system_symbols/upload_system_symbols.sh",
        "patchSetId": 9
      },
      "lineNbr": 61,
      "author": {
        "id": 1174099
      },
      "writtenOn": "2023-01-27T21:10:58Z",
      "side": 1,
      "message": "The version isn’t necessary here now that this is just a temporary directory.\n\nIn fact, you don’t put anything inside `working_dir` other than this `dsc` directory, which makes the extra level seem kind of unnecessary. Why not get rid of this `mkdir` and use `${working_dir}/${arch}` directly below? If you really like a name that’s a reminder of the dyld_shared_cache source of its contents, you could do `${working_dir}/dsc_${arch}`.",
      "revId": "f0a54f5705af1968b410ae5a17c43b5b4e3e79f5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "400babf4_642be8ab",
        "filename": "src/tools/mac/upload_system_symbols/upload_system_symbols.sh",
        "patchSetId": 9
      },
      "lineNbr": 61,
      "author": {
        "id": 1171114
      },
      "writtenOn": "2023-01-27T22:53:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "26ae098f_7965f97c",
      "revId": "f0a54f5705af1968b410ae5a17c43b5b4e3e79f5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4e993a3c_7f6d1219",
        "filename": "src/tools/mac/upload_system_symbols/upload_system_symbols.sh",
        "patchSetId": 9
      },
      "lineNbr": 92,
      "author": {
        "id": 1174099
      },
      "writtenOn": "2023-01-27T21:10:58Z",
      "side": 1,
      "message": "This still does clear `working_dir` but no longer clears `result_dir`.\n\nBut you’re actually done with `working_dir` entirely at this point, so you could `rm -rf \"${working_dir}\"` and then clear the trap handler with `trap \u0027\u0027 EXIT`.",
      "revId": "f0a54f5705af1968b410ae5a17c43b5b4e3e79f5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d7c2de5d_acea805d",
        "filename": "src/tools/mac/upload_system_symbols/upload_system_symbols.sh",
        "patchSetId": 9
      },
      "lineNbr": 92,
      "author": {
        "id": 1171114
      },
      "writtenOn": "2023-01-27T22:53:30Z",
      "side": 1,
      "message": "Yup, I meant `result_dir`. Done.",
      "parentUuid": "4e993a3c_7f6d1219",
      "revId": "f0a54f5705af1968b410ae5a17c43b5b4e3e79f5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "710dd20c_749a891c",
        "filename": "src/tools/mac/upload_system_symbols/upload_system_symbols.sh",
        "patchSetId": 9
      },
      "lineNbr": 114,
      "author": {
        "id": 1174099
      },
      "writtenOn": "2023-01-27T21:12:58Z",
      "side": 1,
      "message": "As in other languages, you don’t really need an `else` after return (or exit). You can just `fi` here and have an explicit `exit 0` on the next line (or just fall off the end of the file).",
      "revId": "f0a54f5705af1968b410ae5a17c43b5b4e3e79f5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}